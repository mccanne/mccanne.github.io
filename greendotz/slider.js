function slider_dragmove(e,c){var b=d3.event.dx;var a=slider_pos+b;slider_set_pan(a);dbd.position_viewer_from_slider(a/slider_max)}function slider_set(a){slider_set_pan(a*slider_max)}function slider_set_pan(a){if(a>slider_max){a=slider_max}else{if(a<0){a=0}}slider_pos=a;d3.select("#thumb-pan").attr("transform",fmt_translate(a,0))}function slider_path(c,h,g,b){var a=b/2;var e=g-a*2;var f="M"+(c+a)+","+h;var d=a+","+a;f+="l"+e+",0";f+="a"+d+" 0 0,1 0,"+b;f+="l-"+e+",0";f+="a"+d+" 0 0,1 0,-"+b;f+="z";return f}function thumb_path(c,h,g,b){var a=b/2;var e=g-a*2;var f="M"+c+","+(h+2);var d=a+","+a;f+="l"+e+",0";f+="a"+d+" 0 0,1 0,"+b;f+="l-"+e+",0";f+="a"+d+" 0 0,1 0,-"+b;f+="z";return f}function make_svg_gradient(a,c){var b=a.append("defs").append("linearGradient").attr("id",c).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");b.append("stop").attr("offset","0%").attr("style","stop-color:#ccc;stop-opacity:1");b.append("stop").attr("offset","50%").attr("style","stop-color:#ddd;stop-opacity:1");b.append("stop").attr("offset","100%").attr("style","stop-color:#bbb;stop-opacity:1")}var slider_pos;var slider_max;function make_slider(d,g,f,a,h,e){make_svg_gradient(d,"slider_gradient");var i=a*e;var c=h-2*2;var k=g+2;var j=g+2+(a-h)-(i-c);slider_pos=0;slider_max=j-k;d.append("path").attr("d",slider_path(g,f,a,h)).attr("stroke","none").attr("fill","url(#slider_gradient)");d.append("g").attr("id","thumb-pan").attr("transform","translate(0,0)").append("path").attr("id","thumb").attr("d",slider_path(k,f+2,i,c)).attr("stroke","none").attr("fill","#aaa").style("cursor","pointer").on("mouseover",function(m,l){d3.select(this).attr("fill","#888")}).on("mouseout",function(m,l){d3.select(this).attr("fill","#aaa")});var b=d3.behavior.drag().on("drag",slider_dragmove);d3.select("#thumb-pan").call(b)}if(0){var svg=d3.select("#root").append("svg").attr("width",900);make_slider(svg,50,30,500,14,1/24)};