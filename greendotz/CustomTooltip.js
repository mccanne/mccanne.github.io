function CustomTooltip(d,b){var d=d;$("body").append("<div class='tooltip' id='"+d+"'></div>");if(b){$("#"+d).css("width",b)}a();function e(g,f){log("custom");log($("#"+d));$("#"+d).html(g);$("#"+d).show();c(f)}function a(){$("#"+d).hide()}function c(g){var h="#"+d;var m=20;var j=10;var p=$(h).width();var k=$(h).height();var n=$(window).scrollTop();var o=$(window).scrollLeft();var i=(document.all)?g.clientX+o:g.pageX;var f=(document.all)?g.clientY+n:g.pageY;var q=((i-o+m*2+p)>$(window).width())?i-p-m*2:i+m;if(q<o+m){q=o+m}var l=((f-n+j*2+k)>$(window).height())?f-k-j*2:f+j;if(l<n+j){l=f+j}$(h).css("top",l+"px").css("left",q+"px")}return{showTooltip:e,hideTooltip:a,updatePosition:c}};